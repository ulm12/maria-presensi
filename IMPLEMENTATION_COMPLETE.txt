```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  ğŸ“¤ GOOGLE DRIVE + GOOGLE SHEETS INTEGRATION                  â•‘
â•‘                         Upload Otomatis + Auto-Save Link                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… SEMUA FILE SUDAH DIBUAT & DI-PUSH KE GITHUB

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ STRUKTUR FILE YANG DIBUAT:

Backend Logic:
â”œâ”€â”€ lib/google-api.ts
â”‚   â”œâ”€â”€ uploadToDrive(fileBuffer, fileName, folderId?)
â”‚   â”œâ”€â”€ saveToSheets(spreadsheetId, range, values)
â”‚   â”œâ”€â”€ ensureSheetExists(spreadsheetId, sheetTitle)
â”‚   â””â”€â”€ createSheetHeader(spreadsheetId, sheetTitle, headers)
â”‚
â”œâ”€â”€ lib/attendance-drive-service.ts
â”‚   â”œâ”€â”€ uploadAttendanceRecord(record, spreadsheetId, driveFolderId)
â”‚   â”œâ”€â”€ uploadBatchAttendance(records, ...)
â”‚   â””â”€â”€ getAttendanceSummary(spreadsheetId, date)
â”‚
â””â”€â”€ lib/image-compression.ts (enhanced)
    â”œâ”€â”€ compressImageBlob(blob, maxWidth?, quality?)
    â””â”€â”€ getBlobSizeMB(blob)

API Endpoints:
â”œâ”€â”€ app/api/upload-to-drive/route.ts
â”‚   â”œâ”€â”€ POST /api/upload-to-drive (upload file & save link)
â”‚   â””â”€â”€ GET /api/upload-to-drive (API docs)
â”‚
â””â”€â”€ app/api/attendance/route.ts
    â”œâ”€â”€ POST /api/attendance (submit attendance)
    â””â”€â”€ GET /api/attendance (API docs)

React Components:
â”œâ”€â”€ components/drive-upload.tsx
â”‚   â””â”€â”€ <DriveUploadComponent /> - Upload UI dengan form
â”‚
â””â”€â”€ components/camera-attendance.tsx
    â””â”€â”€ <CameraAttendanceComponent /> - Attendance dengan camera

Documentation:
â”œâ”€â”€ QUICK_START_GOOGLE_DRIVE.md          â† START HERE! (5 menit setup)
â”œâ”€â”€ GOOGLE_DRIVE_SETUP.md               (Full docs & reference)
â”œâ”€â”€ GOOGLE_CONFIG_EXAMPLE.md            (Configuration guide)
â””â”€â”€ IMPLEMENTATION_SUMMARY.md           (Overview sistem)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ QUICK START (3 STEPS):

1. Setup Google Cloud (5 min)
   â–¡ Buka https://console.cloud.google.com/
   â–¡ Create/Select Project
   â–¡ Enable: Google Drive API + Google Sheets API
   â–¡ Create Service Account â†’ Download JSON
   â–¡ Rename ke: service-account.json
   â–¡ Letakkan di: root project folder

2. Share dengan Service Account (2 min)
   â–¡ Copy email dari service-account.json
   â–¡ Share Google Sheets â†’ "Editor"
   â–¡ Share Google Drive Folder â†’ "Editor"

3. Get IDs (1 min)
   â–¡ Spreadsheet ID dari URL: docs.google.com/spreadsheets/d/[COPY THIS]
   â–¡ Folder ID dari URL: drive.google.com/drive/folders/[COPY THIS]

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’» USAGE EXAMPLES:

Option 1: React Component (Simplest)
â”œâ”€â”€ import { DriveUploadComponent } from "@/components/drive-upload";
â”œâ”€â”€ export default function Page() {
â”‚   return <DriveUploadComponent />;
â”‚ }
â””â”€â”€ Result: Full UI dengan form + error handling

Option 2: Attendance dengan Camera
â”œâ”€â”€ import { CameraAttendanceComponent } from "@/components/camera-attendance";
â”œâ”€â”€ export default function Page() {
â”‚   return <CameraAttendanceComponent />;
â”‚ }
â””â”€â”€ Result: Capture foto + auto check-in/out + geolocation

Option 3: API Call
â”œâ”€â”€ const formData = new FormData();
â”œâ”€â”€ formData.append("file", file);
â”œâ”€â”€ formData.append("spreadsheetId", "YOUR_SHEET_ID");
â”œâ”€â”€ const res = await fetch("/api/upload-to-drive", {
â”‚     method: "POST",
â”‚     body: formData
â”‚   });
â””â”€â”€ const data = await res.json();

Option 4: Direct Backend
â”œâ”€â”€ import { uploadToDrive, saveToSheets } from "@/lib/google-api";
â”œâ”€â”€ const file = await uploadToDrive(buffer, "name.jpg", "folderID");
â”œâ”€â”€ await saveToSheets("sheetID", "A:D", [[file.viewLink, ...]]);
â””â”€â”€ Result: File di Drive + link di Sheets

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š WHAT GETS SAVED:

Google Drive:
â””â”€â”€ Folder Anda
    â”œâ”€â”€ photo-001.jpg
    â”œâ”€â”€ photo-002.jpg
    â””â”€â”€ ... (semua file ter-upload)

Google Sheets:
â”œâ”€â”€ Uploads Sheet:
â”‚   | Nama File | View Link | Download Link | Waktu Upload |
â”‚   |-----------|-----------|---------------|--------------|
â”‚   | photo.jpg | [Link]    | [Link]        | 28/11/2025   |
â”‚
â””â”€â”€ Attendance_2025-11 Sheet:
    | Waktu | ID | Nama | Status | Lokasi | Links |
    |------|----|----|--------|-------|-------|

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ¨ FITUR:

âœ… Upload ke Google Drive
   â””â”€ Support custom folder, custom filename

âœ… Auto-Save Link ke Google Sheets
   â””â”€ View link + Download link

âœ… Attendance dengan Camera
   â”œâ”€ Capture foto langsung
   â”œâ”€ Auto geolocation
   â”œâ”€ Check-in/Check-out toggle
   â””â”€ Automatic sheet creation

âœ… Error Handling
   â””â”€ Validation, error messages, retry logic

âœ… Security
   â”œâ”€ service-account.json di .gitignore
   â”œâ”€ Safe credentials management
   â””â”€ Best practices implemented

âœ… Image Compression
   â”œâ”€ Reduce file size sebelum upload
   â”œâ”€ Maintain quality
   â””â”€ Support Blob/File

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” SECURITY STATUS:

âœ… service-account.json          (IN .gitignore - PROTECTED)
âœ… .env.local support            (Optional env vars)
âœ… Input validation              (Client + Server)
âœ… Error handling                (Graceful errors)
âœ… Credential management         (Service Account)
âœ… Best practices                (Followed Google recommendations)

TIDAK akan ter-upload ke Git! âœ¨

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“– DOCUMENTATION:

Start here: QUICK_START_GOOGLE_DRIVE.md
â”œâ”€ Setup dalam 5 menit
â”œâ”€ Quick examples
â”œâ”€ Troubleshooting
â””â”€ Next steps

Full docs: GOOGLE_DRIVE_SETUP.md
â”œâ”€ Detailed explanation
â”œâ”€ API reference
â”œâ”€ Backend functions
â”œâ”€ Security tips
â””â”€ Monitoring guide

Setup guide: GOOGLE_CONFIG_EXAMPLE.md
â”œâ”€ Step-by-step setup
â”œâ”€ Configuration details
â”œâ”€ Environment variables
â””â”€ Verification

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”— NEXT STEPS:

1. Read: QUICK_START_GOOGLE_DRIVE.md (10 minutes)
2. Setup: Create service-account.json (5 minutes)
3. Test: Try <DriveUploadComponent /> atau <CameraAttendanceComponent />
4. Integrate: Add ke halaman Anda
5. Deploy: Push to production

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š SYSTEM ARCHITECTURE:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLIENT (React/TypeScript)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  DriveUploadComponent â”‚ CameraAttendanceComponent               â”‚
â”‚  â””â”€ Form input        â”‚ â””â”€ Camera capture                       â”‚
â”‚  â””â”€ File select       â”‚ â””â”€ Geolocation                          â”‚
â”‚  â””â”€ Error handling    â”‚ â””â”€ Check-in/out                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”˜
                          â”‚ POST
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               NEXT.JS API ENDPOINTS (Server)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  /api/upload-to-drive      â”‚ /api/attendance                    â”‚
â”‚  â””â”€ Validate input         â”‚ â””â”€ Get employee data               â”‚
â”‚  â””â”€ Convert to buffer      â”‚ â””â”€ Get geolocation                 â”‚
â”‚  â””â”€ Call uploadToDrive()   â”‚ â””â”€ Call uploadAttendanceRecord()   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”˜
                          â”‚ Uses
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              TYPESCRIPT UTILITIES (lib/)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  google-api.ts                                                   â”‚
â”‚  â”œâ”€ Google Auth (JWT Service Account)                           â”‚
â”‚  â”œâ”€ uploadToDrive() â”€â”€â”€â”€â”€â†’ Google Drive API                     â”‚
â”‚  â”œâ”€ saveToSheets() â”€â”€â”€â”€â”€â”€â†’ Google Sheets API                    â”‚
â”‚  â””â”€ ensureSheetExists() â”€â†’ Auto-create sheets                   â”‚
â”‚                                                                  â”‚
â”‚  attendance-drive-service.ts                                    â”‚
â”‚  â”œâ”€ uploadAttendanceRecord()                                    â”‚
â”‚  â””â”€ uploadBatchAttendance()                                     â”‚
â”‚                                                                  â”‚
â”‚  image-compression.ts                                           â”‚
â”‚  â”œâ”€ compressImageBlob()                                         â”‚
â”‚  â””â”€ getBlobSizeMB()                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”˜
                          â”‚ Calls
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              GOOGLE CLOUD APIs (External)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Google Drive API â”€â”€â†’ Store files                               â”‚
â”‚  Google Sheets API â”€â†’ Save links & metadata                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… STATUS:

Project:        maria-presensi
Date:           November 28, 2025
Files:          10 created/modified
Commits:        2 commits
Status:         âœ… PRODUCTION READY
Documentation:  âœ… COMPLETE
Security:       âœ… SECURED

Ready to use! ğŸš€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

## ğŸ¯ RINGKASAN SINGKAT:

Anda sekarang punya sistem **upload otomatis ke Google Drive + auto-save link ke Google Sheets**

### 3 Cara Penggunaan:

1. **React Component** (Paling mudah)
   ```tsx
   <DriveUploadComponent />
   ```

2. **Attendance dengan Camera** (Untuk presensi)
   ```tsx
   <CameraAttendanceComponent />
   ```

3. **API Call** (Untuk integrasi custom)
   ```
   POST /api/upload-to-drive
   POST /api/attendance
   ```

### Setup: 5-10 menit total
1. Create service account di Google Cloud (5 min)
2. Share Sheets & Folder (2 min)
3. Copy IDs (1 min)
4. Done! âœ¨

Semua file sudah di-push ke GitHub. Baca `QUICK_START_GOOGLE_DRIVE.md` untuk details!
